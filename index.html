<!DOCTYPE html> 
<html>
    <head>
        <meta charset="utf-8">
        <script>

                //things to do when loaded

            window.onload=function() {


                    //sets all the variables
                
                const btn = document.getElementById("btn")              
                const upgradeBtn1 = document.getElementById("upgrade")  
                const upgradeBtn2 = document.getElementById("automate")
                var automated = false
                var value = 0
                var incr = 1
                var upgrade1cost = 20
            
                    //event listener settings

                btn.addEventListener("click", add)
                upgradeBtn1.addEventListener("click", upgrade1)
                upgradeBtn2.addEventListener("click", upgrade2)
                    
                    //Basic functions

                function sleep(ms) {
                    return new Promise(resolve => setTimeout(resolve, ms));
                }

                function update() {  //updates the html
                    document.getElementById("upgrade").innerHTML = `More points per click, Cost:${upgrade1cost} pts`
                    document.getElementById("pts").innerHTML = `You have ${value} points`
                    if (automated) {
                        add(true)
                    }
                }

                    //game functions

                function add(automode = false) {  //adds points
                    value = value + incr
                    if (automode) {  //check if it is auto mode for auto mode adding
                        value = value + Math.round(incr/5)
                    }
                }

                function upgrade1() {  //upgrade function
                    if (value - 20 >= 0) {
                        value = value - 20
                        incr = incr + 1
                        upgrade1cost = upgrade1cost * 1.5
                    }
                }

                function upgrade2() {
                    automated = true
                }

                    //main loop

                window.requestAnimationFrame(gameLoop)

                function gameLoop() {
                        update()
                        window.requestAnimationFrame(gameLoop)
                }
            } 
        </script>
        <style>

                /*style for button*/

            div {
                width: 280px;
                height: 100px;
                border: 4px black;
                background-color: lightsteelblue;
                cursor: pointer;
                padding-left: 30px;
                padding-right: 30px;
                padding-top: 30px;
                font-size: 24px;
                margin: 8px;
                font-family: 'Courier New', Courier, monospace;
            }

                /*normal param style*/

            p {
                font-family: Arial, Helvetica, sans-serif;
                font-size: 50px;
            }
        </style>
    </head>
    <body>
        <div id="btn">
            Click this
        </div>
        <div id="upgrade">More Points Per Click, Cost:20 pts</div>
        <div id="automate">Automator</div>
        <p id="pts">You Have 0 Points</p>
        <p>My First Game</p>
        <p>
        </p>
    </body>
</html>
